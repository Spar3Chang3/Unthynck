import{a8 as F,a9 as M,l as R,L as N,a0 as U,a4 as Y,aa as o,ab as x,ac as y,ad as $,g as d,e as j,ae as z,af as G,ag as p,ah as H,ai as V,aj as Z,w as q,ak as k,m as J,M as w,al as K}from"./runtime.B4SQLpdX.js";import{p as Q}from"./proxy.0PXur3Bm.js";import{c as W}from"./store.BGe7FJga.js";function B(a,r){return a===r||(a==null?void 0:a[U])===r}function ea(a={},r,i,l){return F(()=>{var s,f;return M(()=>{s=f,f=[],R(()=>{a!==i(...f)&&(r(a,...f),s&&B(i(...s),a)&&r(null,...s))})}),()=>{N(()=>{f&&B(i(...f),a)&&r(null,...f)})}}),a}function D(a){for(var r=w,i=w;r!==null&&!(r.f&(z|G));)r=r.parent;try{return p(r),a()}finally{p(i)}}function fa(a,r,i,l){var g;var s=(i&H)!==0,f=(i&V)!==0,O=(i&Z)!==0,m=(i&K)!==0,A=!1,u;O?[u,A]=W(()=>a[r]):u=a[r];var v=(g=Y(a,r))==null?void 0:g.set,t=l,P=!0,S=!1,T=()=>(S=!0,P&&(P=!1,m?t=R(l):t=l),t);u===void 0&&l!==void 0&&(v&&f&&o(),u=T(),v&&v(u));var n;if(f)n=()=>{var e=a[r];return e===void 0?T():(P=!0,S=!1,e)};else{var b=D(()=>(s?q:k)(()=>a[r]));b.f|=x,n=()=>{var e=d(b);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(i&y))return n;if(v){var C=a.$$legacy;return function(e,_){return arguments.length>0?((!f||!_||C||A)&&v(_?n():e),e):n()}}var E=!1,L=!1,h=J(u),c=D(()=>q(()=>{var e=n(),_=d(h);return E?(E=!1,L=!0,_):(L=!1,h.v=e)}));return s||(c.equals=$),function(e,_){if(arguments.length>0){const I=_?d(c):f&&O?Q(e):e;return c.equals(I)||(E=!0,j(h,I),S&&t!==void 0&&(t=I),R(()=>d(c))),e}return d(c)}}export{ea as b,fa as p};
