import{a5 as C,a6 as M,g as R,D as N,Y,a1 as U,a7 as o,a8 as x,a9 as y,aa as $,j as d,a0 as j,ab as z,ac as G,ad as L,ae as H,af as V,ag as Z,m as p,ah as J,M as K,F as q,ai as Q}from"./runtime.fSrusJsf.js";import{p as W}from"./proxy.CVFpn86m.js";import{c as X}from"./store.BgdwmhOE.js";function B(a,r){return a===r||(a==null?void 0:a[Y])===r}function ea(a={},r,i,v){return C(()=>{var s,f;return M(()=>{s=f,f=[],R(()=>{a!==i(...f)&&(r(a,...f),s&&B(i(...s),a)&&r(null,...s))})}),()=>{N(()=>{f&&B(i(...f),a)&&r(null,...f)})}}),a}function F(a){for(var r=q,i=q;r!==null&&!(r.f&(z|G));)r=r.parent;try{return L(r),a()}finally{L(i)}}function fa(a,r,i,v){var D;var s=(i&H)!==0,f=(i&V)!==0,O=(i&Z)!==0,m=(i&Q)!==0,A=!1,u;O?[u,A]=X(()=>a[r]):u=a[r];var l=(D=U(a,r))==null?void 0:D.set,t=v,P=!0,S=!1,T=()=>(S=!0,P&&(P=!1,m?t=R(v):t=v),t);u===void 0&&v!==void 0&&(l&&f&&o(),u=T(),l&&l(u));var n;if(f)n=()=>{var e=a[r];return e===void 0?T():(P=!0,S=!1,e)};else{var b=F(()=>(s?p:J)(()=>a[r]));b.f|=x,n=()=>{var e=d(b);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(i&y))return n;if(l){var w=a.$$legacy;return function(e,_){return arguments.length>0?((!f||!_||w||A)&&l(_?n():e),e):n()}}var E=!1,g=!1,h=K(u),c=F(()=>p(()=>{var e=n(),_=d(h);return E?(E=!1,g=!0,_):(g=!1,h.v=e)}));return s||(c.equals=$),function(e,_){if(arguments.length>0){const I=_?d(c):f&&O?W(e):e;return c.equals(I)||(E=!0,j(h,I),S&&t!==void 0&&(t=I),R(()=>d(c))),e}return d(c)}}export{ea as b,fa as p};
