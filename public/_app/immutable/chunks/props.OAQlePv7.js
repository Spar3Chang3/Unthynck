import{a2 as y,a7 as F,a8 as N,a9 as Y,aa as M,g as l,a1 as U,u as T,ab as x,ac as G,ad as L,ae as $,af as j,ag as z,S as H,ah as V,k as D,ai as Z,D as B,aj as J,T as K}from"./runtime.itU1-eAt.js";import{p as Q}from"./proxy.TeBb5cww.js";import{l as W}from"./index.BFqC5wTN.js";let c=!1;function X(r){var a=c;try{return c=!1,[r(),c]}finally{c=a}}function C(r){for(var a=B,n=B;a!==null&&!(a.f&(x|G));)a=a.parent;try{return L(a),r()}finally{L(n)}}function re(r,a,n,v){var A;var g=(n&$)!==0,d=!W||(n&j)!==0,o=(n&z)!==0,p=(n&J)!==0,I=!1,t;o?[t,I]=X(()=>r[a]):t=r[a];var q=H in r||V in r,_=((A=y(r,a))==null?void 0:A.set)??(q&&o&&a in r?e=>r[a]=e:void 0),i=v,P=!0,S=!1,R=()=>(S=!0,P&&(P=!1,p?i=T(v):i=v),i);t===void 0&&v!==void 0&&(_&&d&&F(),t=R(),_&&_(t));var f;if(d)f=()=>{var e=r[a];return e===void 0?R():(P=!0,S=!1,e)};else{var O=C(()=>(g?D:Z)(()=>r[a]));O.f|=N,f=()=>{var e=l(O);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&Y))return f;if(_){var w=r.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||w||I)&&_(u?f():e),e):f()}}var m=!1,h=!1,E=K(t),s=C(()=>D(()=>{var e=f(),u=l(E);return m?(m=!1,h=!0,u):(h=!1,E.v=e)}));return g||(s.equals=M),function(e,u){if(arguments.length>0){const b=u?l(s):d&&o?Q(e):e;return s.equals(b)||(m=!0,U(E,b),S&&i!==void 0&&(i=b),T(()=>l(s))),e}return l(s)}}export{re as p};
