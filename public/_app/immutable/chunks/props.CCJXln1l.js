import{a5 as N,a6 as U,a0 as R,u as m,S as M,U as Y,a7 as o,a8 as x,a9 as y,aa as $,W as d,T as z,ab as G,ac as H,ad as p,ae as V,af as W,ag as Z,a4 as q,ah as j,A as J,v as B,ai as K}from"./runtime.BenPUt-j.js";import{p as Q}from"./proxy.BBbqMt33.js";import{c as X}from"./store.2V2XTQXH.js";function D(a,r){return a===r||(a==null?void 0:a[M])===r}function ea(a={},r,i,v){return N(()=>{var s,f;return U(()=>{s=f,f=[],R(()=>{a!==i(...f)&&(r(a,...f),s&&D(i(...s),a)&&r(null,...s))})}),()=>{m(()=>{f&&D(i(...f),a)&&r(null,...f)})}}),a}function w(a){for(var r=B,i=B;r!==null&&!(r.f&(G|H));)r=r.parent;try{return p(r),a()}finally{p(i)}}function fa(a,r,i,v){var g;var s=(i&V)!==0,f=(i&W)!==0,A=(i&Z)!==0,C=(i&K)!==0,O=!1,u;A?[u,O]=X(()=>a[r]):u=a[r];var l=(g=Y(a,r))==null?void 0:g.set,t=v,S=!0,P=!1,T=()=>(P=!0,S&&(S=!1,C?t=R(v):t=v),t);u===void 0&&v!==void 0&&(l&&f&&o(),u=T(),l&&l(u));var n;if(f)n=()=>{var e=a[r];return e===void 0?T():(S=!0,P=!1,e)};else{var b=w(()=>(s?q:j)(()=>a[r]));b.f|=x,n=()=>{var e=d(b);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(i&y))return n;if(l){var F=a.$$legacy;return function(e,_){return arguments.length>0?((!f||!_||F||O)&&l(_?n():e),e):n()}}var E=!1,L=!1,h=J(u),c=w(()=>q(()=>{var e=n(),_=d(h);return E?(E=!1,L=!0,_):(L=!1,h.v=e)}));return s||(c.equals=$),function(e,_){if(arguments.length>0){const I=_?d(c):f&&A?Q(e):e;return c.equals(I)||(E=!0,z(h,I),P&&t!==void 0&&(t=I),R(()=>d(c))),e}return d(c)}}export{ea as b,fa as p};
