import"../chunks/disclose-version.Bg9kRutz.js";import"../chunks/legacy.CtaTdtmd.js";import{aq as L,ay as V,ar as T,g as t,a1 as c,au as g,aw as i,av as v,ax as a,a4 as gt,k as R,b as kt}from"../chunks/runtime.itU1-eAt.js";import{a as z,t as M}from"../chunks/template.CiIwdCRR.js";import{i as Pt}from"../chunks/lifecycle.DPwG_aij.js";import{o as Y}from"../chunks/index-client.PJFtGBc-.js";import{s as j}from"../chunks/render.Dr4UWjeq.js";import{r as At,s as k}from"../chunks/attributes.CdDkqNi2.js";import{d as it}from"../chunks/events.Dwqh_hTn.js";import{s as P,I as y,T as St}from"../chunks/index.Br-Csc3i.js";import{b as xt}from"../chunks/input.CQxb1yWM.js";import{p as f}from"../chunks/proxy.TeBb5cww.js";import{g as vt,a as Dt,d as qt}from"../chunks/firebase.DcofS6UJ.js";import{w as It,g as zt}from"../chunks/index.-nxUdwdU.js";import{e as ct,i as dt}from"../chunks/each.CmlMm4eT.js";import{p as bt}from"../chunks/props.OAQlePv7.js";import{i as Mt}from"../chunks/if.vB35G9Pt.js";const F=It([]),Nt=s=>{F.update(e=>[...e,s])},Et=()=>{let s=null;return F.update(e=>(s=e[0],e.slice(1))),s},Ot=s=>{console.log(s),F.update(e=>(e.splice(s,1),e))},rt=()=>zt(F).length===0;function $t(s,e,l,u){s.preventDefault(),!(!t(e)&&!t(l)||rt()&&t(e).currentTime===t(e).duration)&&(t(l).play(),c(u,!t(u)),t(u)?t(e).pause():t(e).play())}function Ct(s,e,l){s.preventDefault(),c(e,!t(e)),l()}function Qt(s,e){s.preventDefault(),c(e,!t(e))}var Vt=M('<section class="cassette svelte-1p8w5ta"><div class="cassette-body svelte-1p8w5ta"><div class="dots svelte-1p8w5ta"></div> <div class="dots svelte-1p8w5ta"></div> <div class="dots svelte-1p8w5ta"></div> <div class="dots svelte-1p8w5ta"></div> <div class="label svelte-1p8w5ta"><div class="label-descp svelte-1p8w5ta"><div class="line svelte-1p8w5ta"></div> <div class="song-name svelte-1p8w5ta"><h3 class="svelte-1p8w5ta"> </h3></div> <div class="line svelte-1p8w5ta"></div></div> <div class="player svelte-1p8w5ta"><div class="tape svelte-1p8w5ta"><div class="circle svelte-1p8w5ta" id="circle1"><div class="teeth svelte-1p8w5ta"></div> <div class="teeth svelte-1p8w5ta"></div> <div class="teeth svelte-1p8w5ta"></div> <div class="teeth svelte-1p8w5ta"></div></div> <div class="visor svelte-1p8w5ta"><div class="left-reel reel svelte-1p8w5ta"></div> <div class="right-reel reel svelte-1p8w5ta"></div></div> <div class="circle svelte-1p8w5ta" id="circle2"><div class="teeth svelte-1p8w5ta"></div> <div class="teeth svelte-1p8w5ta"></div> <div class="teeth svelte-1p8w5ta"></div> <div class="teeth svelte-1p8w5ta"></div></div></div></div> <div class="label-color svelte-1p8w5ta"></div></div></div> <div class="media-controls svelte-1p8w5ta"><div class="playback-control svelte-1p8w5ta"><button class="control-button svelte-1p8w5ta"><img class="icon svelte-1p8w5ta" alt="playback control"></button></div> <div class="volume-control svelte-1p8w5ta"><button class="control-button svelte-1p8w5ta"><img class="icon svelte-1p8w5ta" alt="volume control"></button> <input type="range" min="0" max="100" class="volume-slider svelte-1p8w5ta"></div> <div class="shuffle-control svelte-1p8w5ta"><button class="control-button svelte-1p8w5ta"><img class="icon svelte-1p8w5ta" alt="shuffle control"></button></div></div></section>');function jt(s,e){L(e,!0);const l="/audio/default.mp3",u="/audio/tape.mp3";let o=g(50),r=g(!1),p=g(!0),h=g(!1),n=g(null),w=g(null),d=g(0),m=g(void 0),x=g(void 0),b=R(()=>[{animationPlayState:`${t(p)?"paused":"running"}`,animationDuration:`${Math.round(t(d))}s`},{animationPlayState:`${t(p)?"paused":"running"}`,animationDuration:`${Math.round(t(d))}s`}]),A=R(_),G=R(O),st=R(S);function O(){return t(p)?y.playerPlay:y.playerPause}function _(){if(D(),t(r))return y.volumeMute;if(t(o)===0)return y.volumeNone;if(t(o)<=50)return y.volumeLow;if(t(o)>50)return y.volumeHigh}function S(){return t(h)?y.playerShuffleOn:y.playerShuffleOff}function D(){t(n)&&(t(r)?t(n).volume=0:t(n).volume=t(o)/100)}async function q(){if(rt())return;const E=Et();c(m,f(E.fileName)),await vt(E.trackPath,E.fileName).then(at=>{t(n).src=at}),c(p,!1),t(n).play()}Y(()=>{rt()?c(n,f(new Audio(l))):(c(n,f(new Audio)),q());const E=F.subscribe(at=>{c(x,f(at)),console.log(at)});return c(w,f(new Audio(u))),t(w).volume=.5,c(d,f(Math.round(t(n).duration))),t(n).addEventListener("loadedmetadata",()=>{c(d,f(Math.round(t(n).duration)))}),t(n).addEventListener("ended",()=>{c(p,!0),q()}),()=>{t(n).stop,t(n).pause(),t(n).src="",c(n,null),t(w).pause(),t(w).src="",c(w,null),E()}});var I=Vt(),$=i(I),K=v(i($),8),N=i(K),C=v(i(N),2),X=i(C),J=i(X,!0);a(X),a(C),gt(2),a(N);var Z=v(N,2),W=i(Z),B=i(W),Q=v(B,2),U=i(Q),ut=v(U,2);a(Q);var ht=v(Q,2);a(W),a(Z),gt(2),a(K),a($);var pt=v($,2),lt=i(pt),ot=i(lt);ot.__click=[$t,n,w,p];var mt=i(ot);a(ot),a(lt);var nt=v(lt,2),H=i(nt);H.__click=[Ct,r,D];var _t=i(H);a(H);var tt=v(H,2);At(tt),a(nt);var ft=v(nt,2),et=i(ft);et.__click=[Qt,h];var yt=i(et);a(et),a(ft),a(pt),a(I),V(()=>{j(J,t(m)),P(B,"animation-play-state",t(b)[0].animationPlayState),P(U,"animation-duration",t(b)[0].animationDuration),P(U,"animation-play-state",t(b)[0].animationPlayState),P(ut,"animation-duration",t(b)[1].animationDuration),P(ut,"animation-play-state",t(b)[1].animationPlayState),P(ht,"animation-play-state",t(b)[1].animationPlayState),k(mt,"src",t(G)),k(mt,"title",t(p)?"Music Paused":"Music Playing"),k(H,"title",t(r)?"Music Muted":"Music Unmuted"),k(_t,"src",t(A)),tt.disabled=t(r),k(tt,"title",t(o)),k(et,"title",t(h)?"Shuffling Enabled":"Shuffling Disabled"),k(yt,"src",t(st))}),xt(tt,()=>t(o),E=>c(o,E)),z(s,I),T()}it(["click"]);function Lt(s,e,l){s.preventDefault(),c(e,!t(e)),document.getElementById(l.index).querySelector(".widget-content").scrollIntoView({behavior:"smooth",block:"center"})}var Tt=(s,e,l)=>e(t(l)),Ft=M('<div class="widget-song svelte-qzf8lo"><div class="widget-song-info item1 svelte-qzf8lo"><div class="widget-song-name svelte-qzf8lo"><h4> </h4></div></div> <div class="widget-song-util item2 svelte-qzf8lo"><p> </p> <button class="add-to-queue-button svelte-qzf8lo"><img class="icon svelte-qzf8lo" alt="Add to Playlist"></button></div> <div class="widget-song-info item3 svelte-qzf8lo"><div class="widget-song-descr svelte-qzf8lo"><p> </p></div></div></div>'),Jt=M('<div class="album-widget svelte-qzf8lo"><div class="album-widget-cover svelte-qzf8lo"><img class="album-cover svelte-qzf8lo" alt="Album Cover"> <button class="widget-extend-button svelte-qzf8lo" aria-label="Playlist add Button"></button></div> <div class="album-widget-title svelte-qzf8lo"><h2> </h2></div> <div class="widget-content svelte-qzf8lo"></div></div>');function Wt(s,e){L(e,!0);let l=bt(e,"album",19,()=>[]),u=g(f(y.loadingIcon)),o=g(!1),r=R(()=>({height:t(o)?"fit-content":"8rem",width:t(o)?"90vw":"8rem",padding:(t(o),0)}));function p(_){const S=Math.floor(_/60),D=_%60,q=String(S).padStart(2,"0"),I=String(D).padStart(2,"0");return`${q}:${I}`}function h(){return l()[0].trackPath.slice(l()[0].trackPath.indexOf("/")+1,l()[0].trackPath.lastIndexOf("/"))}function n(_){Nt(_)}async function w(){const _=new Image;await vt(l()[0].artworkPath,"art.png").then(S=>{_.src=S}),_.onload=()=>{c(u,f(_.src))}}Y(()=>{w()});var d=Jt(),m=i(d),x=i(m),b=v(x,2);b.__click=[Lt,o,e],a(m);var A=v(m,2),G=i(A),st=i(G,!0);V(()=>j(st,h())),a(G),a(A);var O=v(A,2);ct(O,21,l,dt,(_,S)=>{var D=Ft(),q=i(D),I=i(q),$=i(I),K=i($);a($),a(I),a(q);var N=v(q,2),C=i(N),X=i(C,!0);V(()=>j(X,p(t(S).trackDuration))),a(C);var J=v(C,2);J.__click=[Tt,n,S];var Z=i(J);a(J),a(N);var W=v(N,2),B=i(W),Q=i(B),U=i(Q);a(Q),a(B),a(W),a(D),V(()=>{j(K,`${t(S).trackNumber??""} ${t(S).trackName??""}`),k(Z,"src",y.playlistAdd),j(U,` Description: ${t(S).trackDescription??""}`)}),z(_,D)}),a(O),a(d),V(()=>{k(d,"id",e.index),P(d,"height",t(r).height),P(d,"width",t(r).width),k(x,"src",t(u)),P(A,"opacity",t(o)?1:0),P(A,"visibility",t(o)?"visible":"hidden"),P(O,"opacity",t(o)?1:0),P(O,"visibility",t(o)?"visible":"hidden")}),z(s,d),T()}it(["click"]);var Bt=M('<section class="song-selection svelte-1v6rg91"></section>');function Ut(s,e){L(e,!0);let l=g(f([]));async function u(){Dt();try{const p=(await qt("releases")).map(async h=>(await fetch(h)).json());c(l,f(Object.values(await Promise.all(p))))}catch(r){console.error("Error fetching JSONs:",r),c(l,f([]))}}Y(()=>{u()});var o=Bt();ct(o,21,()=>t(l),dt,(r,p,h)=>{Wt(r,{get album(){return t(p)},index:h})}),a(o),z(s,o),T()}function Ht(s,e){s.preventDefault(),Ot(e.index)}var Rt=M('<div class="song-widget svelte-1u0pgno"><div class="song-widget-art-container svelte-1u0pgno"><img class="song-widget-art svelte-1u0pgno" alt="Song Album Cover"></div> <div class="song-widget-utils svelte-1u0pgno"><p> </p> <button class="dequeue-song-button svelte-1u0pgno"><img class="icon svelte-1u0pgno" alt="Dequeue Song"></button></div></div>');function wt(s,e){L(e,!0);let l=g(f(y.loadingIcon)),u=bt(e,"song",27,()=>f({trackName:"Nothing Selected Yet :("}));async function o(){const b=new Image;await vt(u().artworkPath,"art.png").then(A=>{b.src=A}),b.onload=()=>{c(l,f(b.src))}}kt(()=>{o()});var r=Rt(),p=i(r),h=i(p);a(p);var n=v(p,2),w=i(n),d=i(w,!0);a(w);var m=v(w,2);m.__click=[Ht,e];var x=i(m);a(m),a(n),a(r),V(()=>{k(h,"src",t(l)),j(d,u().trackName),k(x,"src",y.playlistRemove)}),z(s,r),T()}it(["click"]);function Yt(s,e){s.preventDefault(),c(e,!t(e))}var Gt=M('<div class="playlist-container svelte-1b48urd"></div>'),Kt=M('<section class="playlist svelte-1b48urd"><div class="song-up-next-container svelte-1b48urd"><h2 class="svelte-1b48urd">Up Next:</h2> <!> <button class="view-playlist-button svelte-1b48urd">View Playlist</button></div> <!></section>');function Xt(s,e){L(e,!0);let l=g(f([{trackName:null,artworkPath:null}])),u=g(!1);Y(()=>{const d=F.subscribe(m=>{c(l,f(m)),console.log(m)});return()=>{d()}});var o=Kt(),r=i(o),p=v(i(r),2);wt(p,{get song(){return t(l)[0]},set song(d){t(l)[0]=d}});var h=v(p,2);h.__click=[Yt,u],a(r);var n=v(r,2);{var w=d=>{var m=Gt();ct(m,21,()=>t(l),dt,(x,b,A)=>{wt(x,{get song(){return t(b)},index:A})}),a(m),z(d,m)};Mt(n,d=>{t(u)&&d(w)})}a(o),z(s,o),T()}it(["click"]);var Zt=M('<section class="music svelte-1jufzm6"><!> <!> <!></section>');function we(s,e){L(e,!1),Y(()=>{document.title=St.music}),Pt();var l=Zt(),u=i(l);jt(u,{});var o=v(u,2);Xt(o,{});var r=v(o,2);Ut(r,{}),a(l),z(s,l),T()}export{we as component};
