var ft=Object.defineProperty;var mt=(a,e,s)=>e in a?ft(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var Y=(a,e,s)=>mt(a,typeof e!="symbol"?e+"":e,s);import"../chunks/disclose-version.Bg9kRutz.js";import{p as tt,t as W,a as et,l as t,m as d,at as p,c as r,s as o,r as i,au as yt,y as B,f as gt}from"../chunks/runtime.CujgLOHB.js";import{a as O,t as Q,d as ot}from"../chunks/template.GUaYdGvl.js";import{i as pt}from"../chunks/lifecycle.JrtzkzPc.js";import{o as st}from"../chunks/index-client.2-vHILIg.js";import{r as ht,s as _,I as g,T as _t}from"../chunks/Global.CHN6X77_.js";import{g as dt,s as P,a as bt,d as wt}from"../chunks/Firebase.DSZICgop.js";import{b as At}from"../chunks/input.upwfFbcf.js";import{p as h}from"../chunks/proxy.BCqRXuL-.js";import{g as lt,w as kt}from"../chunks/index.fZE6by7T.js";import{e as vt,i as ut}from"../chunks/each.DfX4q5Xw.js";import{s as Z}from"../chunks/render.DYv6prKW.js";import{i as Pt}from"../chunks/if.Ck0J_65a.js";import{p as St}from"../chunks/props.BinKfw78.js";class xt{constructor(){Y(this,"front");Y(this,"rear");Y(this,"size");this.front=null,this.rear=null,this.size=0}_Node(e){return{value:e,next:null}}enqueue(e){const s=this._Node(e);this.size===0?this.rear=this.front=s:(this.rear.next=s,this.rear=s)}enqueueArray(e){if(!Array.isArray(e)){console.error("function 'enqueueArray' must be passed an array as an argument");return}if(this.size===0){this.rear=this.front=this._Node(e[0]);for(let s=1;s<e.length;s++)this.enqueue(e[s])}}dequeue(){if(this.isEmpty)return null;this.size--;const e=this.front.value;return this.front=this.front.next,this.front===null&&(this.rear=null,this.size=0),e}peek(){return this.isEmpty()?null:this.front.value}isEmpty(){return this.size===0}}const Dt=new xt,H=kt(Dt),qt=a=>{const e=lt(H);Array.isArray(a)?e.enqueueArray(a):e.enqueue(a),H.set(e)},Mt=()=>{const a=lt(H),e=a.dequeue();return H.set(a),e},It=()=>lt(H).isEmpty();function $t(a,e,s,v){a.preventDefault(),!(!t(e)&&!t(s))&&(t(s).play(),d(v,!t(v)),t(v)?t(e).pause():t(e).play())}function Nt(a,e,s){a.preventDefault(),d(e,!t(e)),s()}function zt(a,e){a.preventDefault(),d(e,!t(e))}var Et=Q('<section class="cassette svelte-dtyg94"><div class="cassette-body svelte-dtyg94"><div class="dots svelte-dtyg94"></div> <div class="dots svelte-dtyg94"></div> <div class="dots svelte-dtyg94"></div> <div class="dots svelte-dtyg94"></div> <div class="label svelte-dtyg94"><div class="label-descp svelte-dtyg94"><div class="line svelte-dtyg94"></div> <div class="line svelte-dtyg94"></div></div> <div class="player svelte-dtyg94"><div class="tape svelte-dtyg94"><div class="circle svelte-dtyg94" id="circle1"><div class="teeth svelte-dtyg94"></div> <div class="teeth svelte-dtyg94"></div> <div class="teeth svelte-dtyg94"></div> <div class="teeth svelte-dtyg94"></div></div> <div class="visor svelte-dtyg94"><div class="left-reel reel svelte-dtyg94"></div> <div class="right-reel reel svelte-dtyg94"></div></div> <div class="circle svelte-dtyg94" id="circle2"><div class="teeth svelte-dtyg94"></div> <div class="teeth svelte-dtyg94"></div> <div class="teeth svelte-dtyg94"></div> <div class="teeth svelte-dtyg94"></div></div></div></div> <div class="label-color svelte-dtyg94"></div></div></div> <div class="media-controls svelte-dtyg94"><div class="playback-control svelte-dtyg94"><button class="control-button svelte-dtyg94"><img class="icon svelte-dtyg94" alt="playback control"></button></div> <div class="volume-control svelte-dtyg94"><button class="control-button svelte-dtyg94"><img class="icon svelte-dtyg94" alt="volume control"></button> <input type="range" min="0" max="100" class="volume-slider svelte-dtyg94"></div> <div class="shuffle-control svelte-dtyg94"><button class="control-button svelte-dtyg94"><img class="icon svelte-dtyg94" alt="shuffle control"></button></div></div></section>');function Ot(a,e){tt(e,!0);const s="/audio/default.mp3",v="/audio/tape.mp3";let l=p(50),u=p(!1),f=p(!0),S=p(!1),n=p(null),b=p(null),m=p(0),y=B(()=>[{animationPlayState:`${t(f)?"paused":"running"}`,animationDuration:`${Math.round(t(m))}s`},{animationPlayState:`${t(f)?"paused":"running"}`,animationDuration:`${Math.round(t(m))}s`}]),U=B(w),at=B(c),it=B(x);function c(){return t(f)?g.playerPlay:g.playerPause}function w(){if(D(),t(u))return g.volumeMute;if(t(l)===0)return g.volumeNone;if(t(l)<=50)return g.volumeLow;if(t(l)>50)return g.volumeHigh}function x(){return t(S)?g.playerShuffleOn:g.playerShuffleOff}function D(){t(n)&&(t(u)?t(n).volume=0:t(n).volume=t(l)/100)}function j(){const X=Mt();return dt(X.trackPath,X.fileName)}st(()=>(It()?d(n,h(new Audio(s))):(d(n,h(new Audio)),t(n).src=j()),d(b,h(new Audio(v))),t(b).volume=.25,d(m,h(Math.round(t(n).duration))),t(n).addEventListener("loadedmetadata",()=>{d(m,h(Math.round(t(n).duration)))}),()=>{t(n).stop,t(n).pause(),t(n).src="",d(n,null),t(b).pause(),t(b).src="",d(b,null)}));var M=Et(),C=r(M),A=o(r(C),8),I=o(r(A),2),$=r(I),J=r($),N=o(J,2),L=r(N),z=o(L,2);i(N);var T=o(N,2);i($),i(I),yt(2),i(A),i(C);var G=o(C,2),q=r(G),F=r(q);F.__click=[$t,n,b,f];var V=r(F);i(F),i(q);var E=o(q,2),k=r(E);k.__click=[Nt,u,D];var rt=r(k);i(k);var K=o(k,2);ht(K),i(E);var nt=o(E,2),R=r(nt);R.__click=[zt,S];var ct=r(R);i(R),i(nt),i(G),i(M),W(()=>{P(J,"animation-play-state",t(y)[0].animationPlayState),P(L,"animation-duration",t(y)[0].animationDuration),P(L,"animation-play-state",t(y)[0].animationPlayState),P(z,"animation-duration",t(y)[1].animationDuration),P(z,"animation-play-state",t(y)[1].animationPlayState),P(T,"animation-play-state",t(y)[1].animationPlayState),_(V,"src",t(at)),_(V,"title",t(f)?"Music Paused":"Music Playing"),_(k,"title",t(u)?"Music Muted":"Music Unmuted"),_(rt,"src",t(U)),K.disabled=t(u),_(K,"title",t(l)),_(R,"title",t(S)?"Shuffling Enabled":"Shuffling Disabled"),_(ct,"src",t(it))}),At(K,()=>t(l),X=>d(l,X)),O(a,M),et()}ot(["click"]);function Qt(a,e){a.preventDefault(),d(e,!t(e))}var jt=(a,e,s)=>e(t(s)),Ct=Q('<div class="widget-song svelte-14s8yfy"><div class="widget-song-info item1 svelte-14s8yfy"><div class="widget-song-name svelte-14s8yfy"><h4> </h4></div></div> <div class="widget-song-util item2 svelte-14s8yfy"><p> </p> <button class="add-to-queue-button svelte-14s8yfy"><img class="icon svelte-14s8yfy" alt="Add to Playlist"></button></div> <div class="widget-song-info item3 svelte-14s8yfy"><div class="widget-song-descr svelte-14s8yfy"><p> </p></div></div></div>'),Jt=Q('<div class="album-widget-title svelte-14s8yfy"><h2> </h2></div> <div class="widget-content svelte-14s8yfy"></div>',1),Lt=Q('<div class="album-widget svelte-14s8yfy"><div class="album-widget-cover svelte-14s8yfy"><img class="album-cover svelte-14s8yfy" alt="Album Cover"> <button class="widget-extend-button svelte-14s8yfy" aria-label="Playlist add Button"></button></div> <!></div>');function Tt(a,e){tt(e,!0);let s=St(e,"album",19,()=>[]),v=p(h(g.loadingIcon)),l=p(!1),u=B(()=>({height:t(l)?"fit-content":"8rem",width:t(l)?"90vw":"8rem",padding:(t(l),0)}));function f(c){const w=Math.floor(c/60),x=c%60,D=String(w).padStart(2,"0"),j=String(x).padStart(2,"0");return`${D}:${j}`}function S(){return s()[0].trackPath.slice(s()[0].trackPath.indexOf("/")+1,s()[0].trackPath.lastIndexOf("/"))}function n(c){qt(c)}async function b(){const c=new Image;await dt(s()[0].artworkPath,"art.png").then(w=>{c.src=w}),c.onload=()=>{d(v,h(c.src))}}st(()=>{b()});var m=Lt(),y=r(m),U=r(y),at=o(U,2);at.__click=[Qt,l],i(y);var it=o(y,2);Pt(it,()=>t(l),c=>{var w=Jt(),x=gt(w),D=r(x),j=r(D,!0);W(()=>Z(j,S())),i(D),i(x);var M=o(x,2);vt(M,21,s,ut,(C,A)=>{var I=Ct(),$=r(I),J=r($),N=r(J),L=r(N);i(N),i(J),i($);var z=o($,2),T=r(z),G=r(T,!0);W(()=>Z(G,f(t(A).trackDuration))),i(T);var q=o(T,2);q.__click=[jt,n,A];var F=r(q);i(q),i(z);var V=o(z,2),E=r(V),k=r(E),rt=r(k);i(k),i(E),i(V),i(I),W(()=>{Z(L,`${t(A).trackNumber??""} ${t(A).trackName??""}`),_(F,"src",g.playlistAdd),Z(rt,` Description: ${t(A).trackDescription??""}`)}),O(C,I)}),i(M),O(c,w)}),i(m),W(()=>{P(m,"height",t(u).height),P(m,"width",t(u).width),_(U,"src",t(v))}),O(a,m),et()}ot(["click"]);var Ft=Q('<section class="song-selection svelte-14zdsoa"></section>');function Vt(a,e){tt(e,!0);let s=p(h([]));async function v(){bt();try{const f=(await wt("releases")).map(async S=>(await fetch(S)).json());d(s,h(Object.values(await Promise.all(f))))}catch(u){console.error("Error fetching JSONs:",u),d(s,h([]))}}st(()=>{v()});var l=Ft();vt(l,21,()=>t(s),ut,(u,f)=>{Tt(u,{get album(){return t(f)}})}),i(l),O(a,l),et()}var Wt=Q('<section class="music svelte-1jufzm6"><!> <!></section>');function le(a,e){tt(e,!1),st(()=>{document.title=_t.music}),pt();var s=Wt(),v=r(s);Ot(v,{});var l=o(v,2);Vt(l,{}),i(s),O(a,s),et()}export{le as component};
