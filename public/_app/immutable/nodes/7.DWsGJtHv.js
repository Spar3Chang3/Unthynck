var oe=Object.defineProperty;var ue=(l,t,s)=>t in l?oe(l,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[t]=s;var M=(l,t,s)=>ue(l,typeof t!="symbol"?t+"":t,s);import"../chunks/disclose-version.Bg9kRutz.js";import{p as Q,f as ve,t as ce,a as J,g as e,e as r,at as d,c as a,s as v,r as n,au as de,w as k}from"../chunks/runtime.B4SQLpdX.js";import{a as R,t as W,d as fe}from"../chunks/template.Cv82tJgS.js";import{i as me}from"../chunks/lifecycle.C3XcLQts.js";import{o as L}from"../chunks/index-client.BhmIk07o.js";import{r as pe,s as h,I as c,T as he}from"../chunks/Global.qXj1oen3.js";import{g as we,s as z,d as ze}from"../chunks/Firebase.DSZICgop.js";import{b as ye}from"../chunks/input.BRm4Rrop.js";import{p as f}from"../chunks/proxy.0PXur3Bm.js";import{g as X,w as _e}from"../chunks/index.FgZZ6e5B.js";class ge{constructor(){M(this,"front");M(this,"rear");M(this,"size");this.front=null,this.rear=null,this.size=0}_Node(t){return{value:t,next:null}}enqueue(t){const s=this._Node(t);this.size===0?this.rear=this.front=s:(this.rear.next=s,this.rear=s)}enqueueArray(t){if(!Array.isArray(t)){console.error("function 'enqueueArray' must be passed an array as an argument");return}if(this.size===0){this.rear=this.front=this._Node(t[0]);for(let s=1;s<t.length;s++)this.enqueue(t[s])}}dequeue(){if(this.isEmpty)return null;this.size--;const t=this.front.value;return this.front=this.front.next,this.front===null&&(this.rear=null,this.size=0),t}peek(){return this.isEmpty()?null:this.front.value}isEmpty(){return this.size===0}}const be=new ge,N=_e(be),Ae=()=>{const l=X(N),t=l.dequeue();return N.set(l),t},Pe=()=>X(N).isEmpty();function Se(l,t,s,u){l.preventDefault(),!(!e(t)&&!e(s))&&(e(s).play(),r(u,!e(u)),e(u)?e(t).pause():e(t).play())}function Me(l,t,s){l.preventDefault(),r(t,!e(t)),s()}function ke(l,t){l.preventDefault(),r(t,!e(t))}var xe=W('<section class="cassette svelte-lewz84"><div class="cassette-body svelte-lewz84"><div class="dots svelte-lewz84"></div> <div class="dots svelte-lewz84"></div> <div class="dots svelte-lewz84"></div> <div class="dots svelte-lewz84"></div> <div class="label svelte-lewz84"><div class="label-descp svelte-lewz84"><div class="line svelte-lewz84"></div> <div class="line svelte-lewz84"></div></div> <div class="player svelte-lewz84"><div class="tape svelte-lewz84"><div class="circle svelte-lewz84" id="circle1"><div class="teeth svelte-lewz84"></div> <div class="teeth svelte-lewz84"></div> <div class="teeth svelte-lewz84"></div> <div class="teeth svelte-lewz84"></div></div> <div class="visor svelte-lewz84"><div class="left-reel reel svelte-lewz84"></div> <div class="right-reel reel svelte-lewz84"></div></div> <div class="circle svelte-lewz84" id="circle2"><div class="teeth svelte-lewz84"></div> <div class="teeth svelte-lewz84"></div> <div class="teeth svelte-lewz84"></div> <div class="teeth svelte-lewz84"></div></div></div></div> <div class="label-color svelte-lewz84"></div></div></div></section> <br class="svelte-lewz84"> <section class="media-controls svelte-lewz84"><div class="playback-control svelte-lewz84"><button class="control-button svelte-lewz84"><img class="icon svelte-lewz84" alt="playback control"></button></div> <div class="volume-control svelte-lewz84"><button class="control-button svelte-lewz84"><img class="icon svelte-lewz84" alt="volume control"></button> <input type="range" min="0" max="100" class="volume-slider svelte-lewz84"></div> <div class="shuffle-control svelte-lewz84"><button class="control-button svelte-lewz84"><img class="icon svelte-lewz84" alt="shuffle control"></button></div></section>',1);function De(l,t){Q(t,!0);const s="/audio/default.mp3",u="/audio/tape.mp3";let o=d(50),m=d(!1),p=d(!0),g=d(!1),i=d(null),y=d(null),b=d(0),w=k(()=>[{animationPlayState:`${e(p)?"paused":"running"}`,animationDuration:`${Math.round(e(b))}s`},{animationPlayState:`${e(p)?"paused":"running"}`,animationDuration:`${Math.round(e(b))}s`}]),Y=k(se),Z=k(te),ee=k(le);function te(){return e(p)?c.playerPlay:c.playerPause}function se(){if(O(),e(m))return c.volumeMute;if(e(o)===0)return c.volumeNone;if(e(o)<=50)return c.volumeLow;if(e(o)>50)return c.volumeHigh}function le(){return e(g)?c.playerShuffleOn:c.playerShuffleOff}function O(){e(i)&&(e(m)?e(i).volume=0:e(i).volume=e(o)/100)}function ie(){const S=Ae();return we(S.trackPath,S.fileName)}L(()=>(Pe()?r(i,f(new Audio(s))):(r(i,f(new Audio)),e(i).src=ie()),r(y,f(new Audio(u))),r(b,f(Math.round(e(i).duration))),e(i).addEventListener("loadedmetadata",()=>{r(b,f(Math.round(e(i).duration)))}),()=>{e(i).stop,e(i).pause(),e(i).src="",r(i,null),e(y).pause(),e(y).src="",r(y,null)}));var j=xe(),x=ve(j),F=a(x),T=v(a(F),8),V=v(a(T),2),C=a(V),H=a(C),D=v(H,2),I=a(D),U=v(I,2);n(D);var ae=v(D,2);n(C),n(V),de(2),n(T),n(F),n(x);var B=v(x,4),q=a(B),E=a(q);E.__click=[Se,i,y,p];var G=a(E);n(E),n(q);var $=v(q,2),_=a($);_.__click=[Me,m,O];var ne=a(_);n(_);var A=v(_,2);pe(A),n($);var K=v($,2),P=a(K);P.__click=[ke,g];var re=a(P);n(P),n(K),n(B),ce(()=>{z(H,"animation-play-state",e(w)[0].animationPlayState),z(I,"animation-duration",e(w)[0].animationDuration),z(I,"animation-play-state",e(w)[0].animationPlayState),z(U,"animation-duration",e(w)[1].animationDuration),z(U,"animation-play-state",e(w)[1].animationPlayState),z(ae,"animation-play-state",e(w)[1].animationPlayState),h(G,"src",e(Z)),h(G,"title",e(p)?"Music Paused":"Music Playing"),h(_,"title",e(m)?"Music Muted":"Music Unmuted"),h(ne,"src",e(Y)),A.disabled=e(m),h(A,"title",e(o)),h(P,"title",e(g)?"Shuffling Enabled":"Shuffling Disabled"),h(re,"src",e(ee))}),ye(A,()=>e(o),S=>r(o,S)),R(l,j),J()}fe(["click"]);function Ie(l,t){Q(t,!0);let s=d(f([]));async function u(){try{const m=(await ze("releases")).map(async p=>(await fetch(p)).json());r(s,f(await Promise.all(m)))}catch(o){console.error("Error fetching JSONs:",o),r(s,f([]))}}L(()=>{u().then(()=>{console.log(e(s))})}),J()}var qe=W('<section class="music svelte-42u6os"><!> <!></section>');function Ce(l,t){Q(t,!1),L(()=>{document.title=he.music}),me();var s=qe(),u=a(s);De(u,{});var o=v(u,2);Ie(o,{}),n(s),R(l,s),J()}export{Ce as component};
